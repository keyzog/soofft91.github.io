(this.webpackJsonpiot=this.webpackJsonpiot||[]).push([[0],{11:function(e,t,a){e.exports=a(29)},16:function(e,t,a){},25:function(e,t,a){},27:function(e,t,a){},28:function(e,t,a){},29:function(e,t,a){"use strict";a.r(t);var n=a(0),c=a.n(n),r=a(10),o=a.n(r),l=a(2),s=a(1),u=a(7),i=(a(16),{sections:[{n:"devices",i:"fa-th-large",ts:"\u0423\u0441\u0442\u0440\u043e\u0439\u0441\u0442\u0432\u0430",t:"\u0423\u0441\u0442\u0440\u043e\u0439\u0441\u0442\u0432\u0430"},{n:"colors",i:"fa-palette",ts:"\u0423\u043f\u0440. \u0446\u0432\u0435\u0442\u0430\u043c\u0438",t:"\u0423\u043f\u0440\u0430\u0432\u043b\u0435\u043d\u0438\u0435 \u0446\u0432\u0435\u0442\u0430\u043c\u0438"},{n:"effects",i:"fa-fire",ts:"\u042d\u0444\u0444\u0435\u043a\u0442\u044b",t:"\u042d\u0444\u0444\u0435\u043a\u0442\u044b"},{n:"options",i:"fa-cog",ts:"\u041d\u0430\u0441\u0442\u0440\u043e\u0439\u043a\u0438",t:"\u041d\u0430\u0441\u0442\u0440\u043e\u0439\u043a\u0438"}]}),m=i,f=function(e){var t=m.sections;return c.a.createElement("div",{className:"app-menu text-center"},c.a.createElement("div",{className:"row"},t.map((function(t){return c.a.createElement("div",{className:"col-3 app-menu-btn ".concat(e.page===t.n&&"active"),onClick:function(){return e.setPage(t.n)},key:t.n},c.a.createElement("i",{className:"fas "+t.i}),c.a.createElement("div",null,t.ts))}))))},d=function(e){var t=m.sections,a=Object(n.useMemo)((function(){return t.filter((function(t){return t.n===e.page}))[0]}),[t,e.page]);return c.a.createElement("div",{className:"app-header d-flex align-items-center"},c.a.createElement("div",{className:"app-header-title"},a.t,"online"===e.status&&c.a.createElement("p",{className:"text-success"},e.device.name," ",c.a.createElement("span",{className:"text-secondary"},"|")," ",c.a.createElement("span",null,"ping: ",e.ping,"ms")),"offline"===e.status&&c.a.createElement("p",{className:"text-danger"},e.device.name)))},v=a(3),b=a.n(v),p=function(e){var t=Object(n.useState)(e.device.name),a=Object(s.a)(t,2),r=a[0],o=a[1],l=e.url,u=e.setUrl,i=e.brightness,m=e.setBrightness,f=Object(n.useState)(l),d=Object(s.a)(f,2),v=d[0],p=d[1];return c.a.createElement("div",null,c.a.createElement("h5",null,"\u041d\u0430\u0441\u0442\u0440\u043e\u0439\u043a\u0438 \u043f\u0440\u0438\u043b\u043e\u0436\u0435\u043d\u0438\u044f"),c.a.createElement("div",{className:"form-group"},c.a.createElement("label",null,"\u0410\u0434\u0440\u0435\u0441\u0441 \u0443\u0441\u0442\u0440\u043e\u0439\u0441\u0442\u0432\u0430"),c.a.createElement("div",{className:"input-group"},c.a.createElement("input",{type:"text",className:"form-control",value:v,onChange:function(e){var t=e.target;return p(t.value)}}),c.a.createElement("div",{className:"input-group-append"},c.a.createElement("button",{className:"btn btn-warning",onClick:function(){return u(v)}},c.a.createElement("i",{className:"fas fa-save"}))))),c.a.createElement("hr",{className:"my-5"}),c.a.createElement("h5",null,"\u041d\u0430\u0441\u0442\u0440\u043e\u0439\u043a\u0438 \u0443\u0441\u0442\u0440\u043e\u0439\u0441\u0442\u0432\u0430"),c.a.createElement("div",{className:"form-group"},c.a.createElement("div",{className:"d-flex"},c.a.createElement("span",null,"\u042f\u0440\u043a\u043e\u0441\u0442\u044c"),c.a.createElement("span",{className:"ml-auto text-secondary"},Math.floor(i/255*100),"%")),c.a.createElement(b.a,{min:1,max:255,value:i,onChange:function(e){return m(e)},tooltip:!1}),c.a.createElement("button",{className:"btn btn-warning w-100",onClick:e.e_saveToEEPROM},"\u0417\u0430\u043f\u043e\u043c\u043d\u0438\u0442\u044c \u044f\u0440\u043a\u043e\u0441\u0442\u044c")),c.a.createElement("div",{className:"form-group"},c.a.createElement("label",null,"\u041d\u0430\u0437\u0432\u0430\u043d\u0438\u0435 \u0443\u0441\u0442\u0440\u043e\u0439\u0441\u0442\u0432\u0430"),c.a.createElement("div",{className:"input-group"},c.a.createElement("input",{type:"text",className:"form-control",value:r,max:10,onChange:function(e){var t=e.target;return o(t.value)}}),c.a.createElement("div",{className:"input-group-append"},c.a.createElement("button",{className:"btn btn-warning",onClick:function(){return e.e_sendName(r)}},c.a.createElement("i",{className:"fas fa-save"}))))))},E=function(e){var t=e.effect,a=e.setEffect,r=e.speed,o=e.setSpeed,u=e.power,i=e.setPower,m=e.count,f=e.setCount,d=Object(n.useState)(!1),v=Object(s.a)(d,2),p=v[0],E=v[1],g=0,O=[{n:[g++],l:"\u0412\u044b\u043a\u043b\u044e\u0447\u0435\u043d\u043e"},{n:[g++,g++,g++,g++],l:"\u0420\u0430\u0434\u0443\u0433\u0430",i:"\ud83c\udf08"},{n:[g++,g++],l:"\u041d\u043e\u0432\u043e\u0433\u043e\u0434\u043d\u044f\u044f \u0433\u0438\u0440\u043b\u044f\u043d\u0434\u0430",i:"\ud83c\udf84"},{n:[g++],l:"\u0421\u0442\u0440\u0430\u0437\u044b",i:"\ud83e\udd29"},{n:[g++,g++,g++],l:"\u0412\u043e\u043b\u043d\u044b",i:"\ud83c\udf0a"},{n:[g++,g++],l:"\u041f\u043b\u0430\u043c\u044f",i:"\ud83d\udd25"},{n:[0],l:"\u041f\u043b\u0430\u0432\u043d\u0430\u044f \u0441\u043c\u0435\u043d\u0430 \u0446\u0432\u0435\u0442\u043e\u0432",i:"\ud83c\udfa8"},{n:[0],l:"\u041f\u043e\u043b\u0438\u0446\u0438\u044f",i:"\ud83d\udc6e\u200d\u2640\ufe0f"},{n:[0],l:"\u0424\u0435\u0435\u0440\u0432\u0435\u0440\u043a",i:"\ud83d\udca5"},{n:[0],l:"\u041a\u043e\u043d\u0444\u0435\u0442\u0430",i:"\ud83c\udf6d"},{n:[0],l:"\u0411\u0435\u0433\u0430\u044e\u0449\u0438\u0439 \u043e\u0433\u043e\u043d\u0435\u043a",i:"\u2728"},{n:[0],l:"\u0421\u0432\u0435\u0442\u043b\u044f\u0447\u043a\u0438",i:"\ud83d\udca1"}],N=Object(n.useState)(O.map((function(e){return e.active=0,-1!==e.n.indexOf(t)&&(e.active=e.n.indexOf(t)),e}))),j=Object(s.a)(N,2),h=j[0],x=j[1],S=Object(n.useState)((function(){var e=0;return O.forEach((function(a,n){-1!==a.n.indexOf(t)&&(e=n)})),e})),w=Object(s.a)(S,2),C=w[0],y=w[1],k=function(e){!function(e){var t=Object(l.a)(h);C===e&&t[e].n.length>1&&(t[e].active+=1,t[e].active>=h[e].n.length&&(t[e].active=0)),x(t)}(e),y(e);var t=h[e].n[h[e].active];a(t)};return c.a.createElement("div",{className:"row px-2 "},h.map((function(e,t){return c.a.createElement("div",{className:"col-6 col-sm-4 px-1",key:e.l},c.a.createElement("div",{className:"effect-btn d-flex align-items-center ".concat(C===t&&" active"),onClick:function(){return k(t)}},c.a.createElement("span",null,e.l),e.i&&c.a.createElement("span",{className:"icon"},e.i),e.n.length>1&&c.a.createElement("div",{className:"effect-types"},e.n.map((function(t,a){return c.a.createElement("span",{className:e.active===a&&"active"})})))))})),c.a.createElement("div",{className:"effect-settings-btn",onClick:function(){return E((function(e){return!0!==e}))}},c.a.createElement("i",{class:"fas fa-cog"})),!0===p&&c.a.createElement("div",{className:"effect-settings"},c.a.createElement("div",{class:"form-group"},c.a.createElement("div",{className:"d-flex effect-settings-label"},c.a.createElement("div",{className:"mr-auto"},"\u0421\u043a\u043e\u0440\u043e\u0441\u0442\u044c"),c.a.createElement("span",{className:"badge badge-secondary"},r+50,"%")),c.a.createElement(b.a,{min:1,max:100,value:r,onChange:function(e){return o(e)},tooltip:!1})),c.a.createElement("div",{class:"form-group"},c.a.createElement("div",{className:"d-flex effect-settings-label"},c.a.createElement("div",{className:"mr-auto"},"\u0418\u043d\u0442\u0435\u043d\u0441\u0438\u0432\u043d\u043e\u0441\u0442\u044c"),c.a.createElement("span",{className:"badge badge-secondary"},u)),c.a.createElement(b.a,{value:u,onChange:function(e){return i(e)},tooltip:!1})),c.a.createElement("div",{class:"form-group"},c.a.createElement("div",{className:"d-flex effect-settings-label"},c.a.createElement("div",{className:"mr-auto"},"\u041a\u043e\u043b-\u0432\u043e"),c.a.createElement("span",{className:"badge badge-secondary"},m)),c.a.createElement(b.a,{value:m,onChange:function(e){return f(e)},tooltip:!1}))))},g=(a(25),function(e,t,a){var n=function(e){var t=e.toString(16);return 1===t.length?"0"+t:t};return n(e)+n(t)+n(a)}),O=function(e){var t=e.hexColor,a=e.setHexColor,r=Object(n.useRef)(null),o=Object(n.useRef)(null),u=Object(n.useState)(function(e){var t=/^#?([a-f\d]{2})([a-f\d]{2})([a-f\d]{2})$/i.exec(e);return t?[parseInt(t[1],16),parseInt(t[2],16),parseInt(t[3],16)]:null}(t)),i=Object(s.a)(u,2),m=i[0],f=i[1],d=Object(n.useState)(0),v=Object(s.a)(d,2),b=v[0],p=v[1],E=Object(n.useState)((function(){return localStorage.rangeColor?localStorage.rangeColor:500})),O=Object(s.a)(E,2),N=O[0],j=O[1],h=Object(n.useState)((function(){return localStorage.rangeOpacity?localStorage.rangeOpacity:255})),x=Object(s.a)(h,2),S=x[0],w=x[1];Object(n.useEffect)((function(){localStorage.rangeColor=N,localStorage.rangeOpacity=S}),[N,S]);var C=Object(n.useMemo)((function(){return S>=255?m.map((function(e){return Math.max(e,S-255)})):m.map((function(e){return Math.min(e,S)}))}),[S,m]);Object(n.useEffect)((function(){var e=g.apply(void 0,Object(l.a)(C));a(e)}),[C,a]);var y=Object(n.useMemo)((function(){var e=0,t=0;return S>=255?(e=255,t=(S-255)/255):(e=0,t=(255-S)/255),{backgroundColor:"rgba(".concat(e,",").concat(e,",").concat(e,",").concat(t,")")}}),[S]);Object(n.useEffect)((function(){var e=Math.floor(N/1e3*1530),t={r:0,g:0,b:0};e<255?(t.r=255,t.g=e%255):e<510?(t.r=255-e%255,t.g=255):e<765?(t.g=255,t.b=e%255):e<1020?(t.g=255-e%255,t.b=255):e<1275?(t.r=e%255,t.b=255):e<1530&&(t.r=255,t.b=255-e%255),f([t.r,t.g,t.b])}),[N]);var k=function(e){if(b){var t,a=e.pageX;e.touches&&e.touches[0]&&(a=e.touches[0].pageX);var n=a-(t=2===b?o.current.getBoundingClientRect():r.current.getBoundingClientRect()).x,c=t.width;if(n<0&&(n=0),n>=c&&(n=c-1),2===b){var l=n/c*510;w(Math.floor(l))}else{var s=n/c*1e3;j(Math.floor(s))}e.stopPropagation(),e.preventDefault()}};return c.a.createElement("div",{className:"palette1"},c.a.createElement("div",{className:"palette"},c.a.createElement("div",{className:"palette-line-color",ref:r,onMouseDown:function(){return p(1)},onTouchStart:function(){return p(1)},onMouseMove:k,onTouchMove:k,onMouseUp:function(){return p(0)},onTouchCancel:function(){return p(0)},onTouchEnd:function(){return p(0)}},c.a.createElement("div",{className:"before",style:y}),c.a.createElement("div",{className:"palette-pointer",style:{left:"".concat(Math.min(N/10,100),"%"),backgroundColor:"rgb(".concat(C[0],", ").concat(C[1],", ").concat(C[2],")")}}))),c.a.createElement("div",{className:"palette-line-level",ref:o,onMouseDown:function(){return p(2)},onTouchStart:function(){return p(2)},onMouseMove:k,onTouchMove:k,onMouseUp:function(){return p(0)},onTouchCancel:function(){return p(0)},onTouchEnd:function(){return p(0)},style:{backgroundColor:"rgb(".concat(m[0],", ").concat(m[1],", ").concat(m[2],")")}},c.a.createElement("div",{className:"palette-pointer",style:{left:"".concat(Math.min(S/510*100,100),"%"),backgroundColor:"rgb(".concat(C[0],", ").concat(C[1],", ").concat(C[2],")")}})))},N=function(e){var t=e.hexColor,a=e.setHexColor,r=Object(n.useState)((function(){return localStorage.favorites?JSON.parse(localStorage.favorites):[]})),o=Object(s.a)(r,2),u=o[0],i=o[1];Object(n.useEffect)((function(){localStorage.favorites=JSON.stringify(u)}),[u]);var m=e.gallery,f=e.setGalery;return c.a.createElement("div",null,c.a.createElement(O,{hexColor:t,setHexColor:a}),c.a.createElement("div",{className:"my-4 row"},c.a.createElement("div",{className:"col-6"},c.a.createElement("button",{className:"btn btn-outline-dark w-100",onClick:function(){return i((function(e){return[].concat(Object(l.a)(e),[t])}))}},"\u0412 \u0438\u0437\u0431\u0440\u0430\u043d\u043d\u043e\u0435")),c.a.createElement("div",{className:"col-6"},c.a.createElement("button",{className:"btn btn-outline-dark w-100",onClick:function(){return f((function(e){return e.length>=6?(console.log("\u041c\u0430\u043a\u0441\u0438\u043c\u0443\u043c 6 \u0446\u0432\u0435\u0442\u043e\u0432"),e):[].concat(Object(l.a)(e),[t])}))}},"\u0412 \u0433\u0430\u043b\u043b\u0435\u0440\u0435\u044e"))),c.a.createElement("hr",null),c.a.createElement("div",{className:"color-card"},c.a.createElement("div",{className:"color-card-header d-flex"},c.a.createElement("div",null,"\u0426\u0432\u0435\u0442\u0430 \u0432 \u0438\u0437\u0431\u0440\u0430\u043d\u043d\u043e\u043c"),c.a.createElement("span",{className:" ml-auto"},c.a.createElement("span",{class:"badge badge-secondary",onClick:function(){return i([])}},"\u043e\u0447\u0438\u0441\u0442\u0438\u0442\u044c"))),c.a.createElement("div",{className:"row color-gal-row"},u.map((function(e,t){return c.a.createElement("div",{className:"col-2 px-1 pb-2",key:e+"s"+t},c.a.createElement("div",{className:"color-gal-col",style:{backgroundColor:"#"+e},onClick:function(){return a(e)}}))})))),c.a.createElement("div",{className:"color-card"},c.a.createElement("div",{className:"color-card-header d-flex"},c.a.createElement("div",null,"\u0413\u0430\u043b\u043b\u0435\u0440\u0435\u044f"),c.a.createElement("span",{className:" ml-auto"},c.a.createElement("span",{class:"badge badge-secondary"},"\u043e\u0447\u0438\u0441\u0442\u0438\u0442\u044c"))),c.a.createElement("div",{className:"row color-gal-row"},m.map((function(e,t){return c.a.createElement("div",{className:"col-2 px-1 pb-2",key:e+"f"+t},c.a.createElement("div",{className:"color-gal-col",style:{backgroundColor:"#"+e}}))})))))},j=a(5),h=a.n(j),x=a(8),S=function(e,t){var a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:5e3;return Promise.race([fetch(e,t),new Promise((function(e,t){return setTimeout((function(){return t(new Error("timeout"))}),a)}))])},w=(a(27),function(e){return e.isShow?c.a.createElement("div",{className:"popover-menu"},c.a.createElement("div",{className:"popover-menu-bg"}),c.a.createElement("div",{className:"popover-menu-body"},c.a.createElement("ul",null,e.items.map((function(t,a){return c.a.createElement("li",{onClick:function(){return function(t){e.items[t].cb(),e.hide()}(a)}},t.text)}))),c.a.createElement("ul",null,c.a.createElement("li",{onClick:e.hide},"\u041e\u0442\u043c\u0435\u043d\u0430")))):null}),C=(a(28),function(e){return c.a.createElement("span",{className:"ui-toggle"},c.a.createElement("i",{class:"fas fa-toggle-off"}))}),y=function(e){var t=e.activeDevice,a=e.devices,r=e.addDevice,o=e.deleteDevice,u=e.setActiveDevice,i=Object(n.useState)((function(){return a.map((function(){return[2]}))})),m=Object(s.a)(i,2),f=m[0],d=m[1],v=function(e,t){return d((function(a){var n=Object(l.a)(a);return n[e]=t,n}))},b=Object(n.useState)("191.168.1.69"),p=Object(s.a)(b,2),E=p[0],g=p[1],O=Object(n.useState)(0),N=Object(s.a)(O,2),j=N[0],y=N[1],k=Object(n.useState)(0),M=Object(s.a)(k,2),D=M[0],T=M[1],_=function(){y(0),T(0)};Object(n.useEffect)((function(){0!==D&&setTimeout(P,250)}),[D]);var P=function(){var e=Object(x.a)(h.a.mark((function e(t){var a,n,c,o;return h.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a="192.168.1.".concat(D),n="http://".concat(a,"/are_you_here"),console.log(">>>>>>>>>> > > >",a),e.prev=3,e.next=6,S(n,{cache:"no-cache"},1e3);case 6:if(!(c=e.sent).ok){e.next=12;break}return e.next=10,c.json();case 10:o=e.sent,r(Object.assign(o,{url:a,isOnline:!1}));case 12:e.next=16;break;case 14:e.prev=14,e.t0=e.catch(3);case 16:1===j&&D<10?T((function(e){return e+1})):_();case 17:case"end":return e.stop()}}),e,null,[[3,14]])})));return function(t){return e.apply(this,arguments)}}(),R=Object(n.useState)(!1),J=Object(s.a)(R,2),B=J[0],I=J[1],U={isShow:B,hide:function(){return I(!1)},items:[{text:"\u0423\u0434\u0430\u043b\u0438\u0442\u044c",cb:function(){o($)}}]},H=Object(n.useState)(),A=Object(s.a)(H,2),G=A[0],X=A[1],q=Object(n.useState)(),F=Object(s.a)(q,2),$=F[0],z=F[1],K=function(e){z(e.target.dataset.id);var t=setTimeout((function(){I((function(e){return!1===e}))}),500);X(t),e.preventDefault()},L=function(e){return clearTimeout(G)};return Object(n.useEffect)((function(){var e=function(){var t=Object(x.a)(h.a.mark((function t(){var n,c,r,o,l=arguments;return h.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(n=l.length>0&&void 0!==l[0]?l[0]:0,a[n]){t.next=3;break}return t.abrupt("return");case 3:return c=a[n],r="http://".concat(c.url,"/are_you_here"),o={cache:"no-cache"},t.prev=6,t.next=9,S(r,o,500);case 9:if(!t.sent.ok){t.next=14;break}v(n,1),t.next=15;break;case 14:throw"e";case 15:t.next=20;break;case 17:t.prev=17,t.t0=t.catch(6),v(n,0);case 20:e(++n);case 21:case"end":return t.stop()}}),t,null,[[6,17]])})));return function(){return t.apply(this,arguments)}}();e()}),[a]),c.a.createElement("div",null,c.a.createElement("div",{className:"devices"},a.map((function(e,a){return c.a.createElement("div",{className:"devices-btn d-flex align-items-center ".concat(t===a?"active":""," status-").concat(f[a]),"data-id":e._id,onMouseDown:K,onMouseUp:L,onTouchStart:function(e){u(a),K(e)},onTouchEnd:L,onClick:function(){return u(a)}},c.a.createElement("div",{className:"py-1 mr-auto"},c.a.createElement("h6",null,e.name),c.a.createElement("small",{className:"text-secondary"},e.url,c.a.createElement("div",{className:"device-status"}))),c.a.createElement(C,{checked:!0}))}))),c.a.createElement("div",{className:"mt-4"},0===j&&c.a.createElement("button",{className:"btn btn-secondary w-100",onClick:function(){y(1),T(1)}},"\u041f\u043e\u0438\u0441\u043a \u0443\u0441\u0442\u0440\u043e\u0439\u0441\u0442\u0432"),1===j&&c.a.createElement(c.a.Fragment,null,c.a.createElement("button",{className:"btn btn-danger w-100",onClick:_},"\u041e\u0441\u0442\u0430\u043d\u043e\u0432\u0438\u0442\u044c \u043f\u043e\u0438\u0441\u043a"),c.a.createElement("p",{className:"text-secondary"},"\u041f\u0440\u043e\u0432\u0435\u0440\u0435\u043d\u043e ",D," \u0438\u0437 ",255))),c.a.createElement("div",{className:"my-5"},c.a.createElement("div",{className:"form-group mb-1"},c.a.createElement("label",null,"\u0410\u0434\u0440\u0435\u0441\u0441 \u0443\u0441\u0442\u0440\u043e\u0439\u0441\u0442\u0432\u0430"),c.a.createElement("div",{className:"input-group"},c.a.createElement("input",{type:"text",className:"form-control",value:E,onChange:function(e){var t=e.target;return g(t.value)},placeholder:"192.168.1.1"}),c.a.createElement("div",{className:"input-group-append"},c.a.createElement("button",{className:"btn btn-warning",onClick:function(){r({type:"ws_led_strip",name:"lol kek",_id:"test-"+Date.now(),url:E})}},c.a.createElement("i",{class:"fas fa-plus    "}))))),c.a.createElement("p",{className:"text-center"},c.a.createElement("small",null,"\u0420\u0443\u0447\u043d\u043e\u0435 \u0434\u043e\u0431\u0430\u0432\u043b\u0435\u043d\u0438\u0435 \u0443\u0441\u0442\u0440\u043e\u0439\u0441\u0442\u0432"))),c.a.createElement(w,U))},k={maxEnqueuedMessages:0},M=new u.a("ws://192.168.1.3:81",[],k);console.log("sadasdasd"),setInterval((function(){1===M.readyState&&M.send("p|"+Date.now())}),1e3);var D=[],T=Date.now();var _=function(){var e=Object(n.useState)((function(){return localStorage.devices?JSON.parse(localStorage.devices):[]})),t=Object(s.a)(e,2),a=t[0],r=t[1];Object(n.useEffect)((function(){localStorage.devices=JSON.stringify(a)}),[a]);var o=Object(n.useState)(0),i=Object(s.a)(o,2),m=i[0],v=i[1],b=Object(n.useMemo)((function(){return a[m]||v(0),a[m]}),[a,m]);Object(n.useEffect)((function(){var e=a[m];me(e.url),M.close(),M=new u.a("ws://"+e.url+":81",[],k)}),[m]);var g=Object(n.useState)("offline"),O=Object(s.a)(g,2),j=O[0],h=O[1],x=Object(n.useState)(0),S=Object(s.a)(x,2),w=S[0],C=S[1],_=Object(n.useState)("devices"),P=Object(s.a)(_,2),R=P[0],J=P[1],B=Object(n.useState)("000000"),I=Object(s.a)(B,2),U=I[0],H=I[1],A=Object(n.useState)([]),G=Object(s.a)(A,2),X=G[0],q=G[1],F={hexColor:U,setHexColor:H,gallery:X,setGalery:q};Object(n.useEffect)((function(){var e=["000000","000000","000000","000000","000000","000000"];e=e.map((function(e,t){return X[t]&&(e=X[t]),e})),console.log("g|".concat(e.join(""))),M.send("g|".concat(e.join("")))}),[X]);var $=Object(n.useState)(0),z=Object(s.a)($,2),K=z[0],L=z[1],Q=Object(n.useState)(50),V=Object(s.a)(Q,2),W=V[0],Y=V[1],Z=Object(n.useState)(50),ee=Object(s.a)(Z,2),te=ee[0],ae=ee[1],ne=Object(n.useState)(1),ce=Object(s.a)(ne,2),re=ce[0],oe=ce[1],le={effect:K,setEffect:L,speed:W,setSpeed:Y,power:te,setPower:ae,count:re,setCount:oe};Object(n.useEffect)((function(){return M.send("1|".concat(te))}),[te]),Object(n.useEffect)((function(){return M.send("2|".concat(W))}),[W]),Object(n.useEffect)((function(){return M.send("3|".concat(re))}),[re]),Object(n.useEffect)((function(){var e=Date.now();e-T<=1e3/60||(T=e,M.send("c|".concat(U)))}),[U]),Object(n.useEffect)((function(){console.log("e|".concat(K)),M.send("e|".concat(K))}),[K]);var se=Object(n.useState)("http://192.168.1.3"),ue=Object(s.a)(se,2),ie=ue[0],me=ue[1],fe=Object(n.useState)(50),de=Object(s.a)(fe,2),ve=de[0],be=de[1];return M.onmessage=function(e){var t=e.data.split("|"),a=Object(s.a)(t,2),n=a[0],c=a[1];if("hi"===n){var r=c.split("///");be(r[1]),console.log(c)}if(-1!==e.data.indexOf("p|")){var o=Date.now()-e.data.split("|")[1];D.length<5?D.push(o):D=[].concat(Object(l.a)(D.splice(1,4)),[o]);var u=D.reduce((function(e,t){return e+t}))/D.length;C(Math.floor(u))}},M.onopen=function(){console.log("\u0421\u043e\u0435\u0434\u0438\u043d\u0435\u043d\u0438\u0435 \u0443\u0441\u0442\u0430\u043d\u043e\u0432\u043b\u0435\u043d\u043e."),h("online")},M.onclose=function(e){e.wasClean?console.log("\u0421\u043e\u0435\u0434\u0438\u043d\u0435\u043d\u0438\u0435 \u0437\u0430\u043a\u0440\u044b\u0442\u043e \u0447\u0438\u0441\u0442\u043e"):console.log("\u041e\u0431\u0440\u044b\u0432 \u0441\u043e\u0435\u0434\u0438\u043d\u0435\u043d\u0438\u044f"),console.log("\u041a\u043e\u0434: "+e.code+" \u043f\u0440\u0438\u0447\u0438\u043d\u0430: "+e.reason),h("offline")},M.onerror=function(e){console.log("\u041e\u0448\u0438\u0431\u043a\u0430 "+e.message),h("offline")},Object(n.useEffect)((function(){console.log("\ud83c\udfd3","b|".concat(ve)),M.send("b|".concat(ve))}),[ve]),c.a.createElement("div",{className:"container"},c.a.createElement(d,{page:R,device:b,ping:w,status:j}),c.a.createElement(f,{setPage:J,page:R}),"devices"===R&&c.a.createElement(y,{activeDevice:m,devices:a,addDevice:function(e){return r((function(t){return 0===t.filter((function(t){return t._id===e._id})).length?[].concat(Object(l.a)(t),[e]):t}))},deleteDevice:function(e){r((function(t){return t.filter((function(t){return t._id!==e}))}))},setActiveDevice:v}),"colors"===R&&c.a.createElement(N,F),"effects"===R&&c.a.createElement(E,le),"options"===R&&c.a.createElement(p,{device:b,url:ie,setUrl:me,brightness:ve,setBrightness:be,e_sendName:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"device_".concat(Date.now());console.log("\ud83c\udfd3","N|"+e),M.send("N|"+e)},e_saveToEEPROM:function(){console.log("\ud83c\udfd3","e_saveToEEPROM()")}}))};o.a.render(c.a.createElement(c.a.StrictMode,null,c.a.createElement(_,null)),document.getElementById("root"))}},[[11,1,2]]]);
//# sourceMappingURL=main.eff0d0c6.chunk.js.map